{% extends "admin_base.html" %}

{% block title %}Add Market Information - Admin{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="sidebar">
        <a href="{{ url_for('admin_dashboard') }}"><i class="material-icons">dashboard</i>Dashboard</a>
        <a href="{{ url_for('admin_users') }}"><i class="material-icons">people</i>Users</a>
        <a href="{{ url_for('admin_crop_info') }}"><i class="material-icons">eco</i>Crops</a>
        <a href="{{ url_for('blog') }}"><i class="material-icons">rate_review</i>Blog</a>
        <a href="{{ url_for('index') }}"><i class="material-icons">web</i>Main Site</a>
        <a href="{{ url_for('logout') }}"><i class="material-icons">exit_to_app</i>Logout</a>
    </div>
    <div class="main-content">
        <h2>Add Market Information</h2>
        <form method="POST" action="{{ url_for('admin_add_market_info') }}">
            <div class="input-field">
                <input type="text" id="mandi_name" name="mandi_name" required>
                <label for="mandi_name">Mandi Name</label>
            </div>
            <div class="input-field">
                <input type="text" id="commodity_name" name="commodity_name" required>
                <label for="commodity_name">Commodity Name</label>
            </div>
            <div class="input-field">
                <input type="number" step="0.01" id="price" name="price" required>
                <label for="price">Price (per Qtl.)</label>
            </div>
            <div class="input-field">
                <input type="date" id="date" name="date" class="datepicker" required>
                <label for="date">Date</label>
            </div>
            <div class="center-align">
                <button type="submit" class="btn waves-effect waves-light">Add Market Entry</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.datepicker');
        var instances = M.Datepicker.init(elems, {
            format: 'yyyy-mm-dd'
        });
    });
</script>
{% endblock %}
